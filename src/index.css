@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply m-0 antialiased overflow-x-hidden bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100;
  }
}

@layer components {
  .kid-panel {
    @apply bg-white/95 backdrop-blur-sm rounded-3xl p-6 shadow-lg 
           border-2 border-primary-300 animate-pop
           bg-gradient-to-br from-white via-white to-primary-50;
  }

  .kid-button {
    @apply px-6 py-3 rounded-2xl bg-gradient-to-r from-primary-600 to-primary-700 
           text-white shadow-md transition-all duration-300 hover:shadow-lg 
           hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 
           focus:ring-primary-300/50 disabled:opacity-50 disabled:cursor-not-allowed
           relative overflow-hidden;
  }

  .kid-button:hover {
    @apply from-primary-500 to-primary-600;
  }

  .kid-button:active {
    @apply from-primary-700 to-primary-800;
  }

  .kid-card {
    @apply bg-white/95 backdrop-blur-sm rounded-2xl p-4 shadow-md 
           hover:shadow-lg transition-all duration-300
           hover:scale-105 active:scale-95 cursor-pointer disabled:opacity-50 
           disabled:cursor-not-allowed border-2 border-primary-200
           bg-gradient-to-br from-white to-primary-50
           text-xl font-bold relative overflow-hidden;
  }

  .kid-card.selected {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 text-white
           border-primary-400 shadow-lg;
  }

  .kid-card:hover:not(.selected) {
    @apply bg-gradient-to-br from-white to-primary-100;
  }

  .kid-card:active:not(.selected) {
    @apply bg-gradient-to-br from-white to-primary-200;
  }

  .rainbow-text {
    @apply font-bold bg-clip-text text-transparent bg-gradient-to-r 
           from-primary-700 via-secondary-600 to-accent-600
           animate-rainbow;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  }

  .multiplier-badge {
    @apply inline-block px-4 py-2 text-sm font-bold text-white
           bg-gradient-to-r from-yellow-500 to-amber-500 rounded-full
           animate-bounce-gentle shadow-md border border-yellow-400/30;
  }

  .streak-badge {
    @apply inline-block px-4 py-2 text-sm font-bold text-white
           bg-gradient-to-r from-red-600 to-orange-500 rounded-full
           animate-pulse shadow-md border border-red-400/30;
  }

  .particle {
    @apply fixed w-2 h-2 rounded-full pointer-events-none z-50;
    animation: particle-float 0.6s ease-out forwards;
  }

  .celebration-container {
    @apply fixed inset-0 pointer-events-none z-50 overflow-hidden;
  }

  .confetti {
    @apply absolute w-2 h-2 rounded-sm;
    animation: confetti-fall 3s ease-out forwards;
  }

  .star {
    @apply absolute w-4 h-4;
    animation: star-shoot 1s ease-out forwards;
    background: radial-gradient(circle at center, #FFD700 20%, transparent 70%);
  }

  .level-up-text {
    @apply fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
           text-6xl font-bold text-transparent bg-clip-text
           bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600
           pointer-events-none z-50;
    animation: level-up-appear 1.5s ease-out forwards;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
  }

  .badges-container {
    @apply fixed top-4 right-4 flex flex-col gap-2 z-50;
  }

  .badge {
    @apply flex items-center gap-2 px-4 py-2 rounded-full text-white text-sm font-bold
           shadow-lg backdrop-blur-sm transform transition-all duration-300
           hover:scale-110 cursor-help;
  }

  .badge-icon {
    @apply w-6 h-6 animate-pulse;
  }

  .badge-new {
    animation: badge-pop 0.5s cubic-bezier(0.22, 1, 0.36, 1);
  }

  .badge-math-whiz {
    @apply bg-gradient-to-r from-blue-500 to-purple-500;
  }

  .badge-speed-demon {
    @apply bg-gradient-to-r from-red-500 to-orange-500;
  }

  .badge-persistent {
    @apply bg-gradient-to-r from-green-500 to-emerald-500;
  }

  .badge-perfectionist {
    @apply bg-gradient-to-r from-yellow-500 to-amber-500;
  }

  .badge-explorer {
    @apply bg-gradient-to-r from-pink-500 to-rose-500;
  }

  .badge-tooltip {
    @apply absolute right-full mr-2 px-3 py-1 bg-black/80 text-white text-xs rounded
           whitespace-nowrap opacity-0 transition-opacity duration-200;
  }

  .badge:hover .badge-tooltip {
    @apply opacity-100;
  }
}

@keyframes particle-float {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(var(--tx, 100px), var(--ty, -100px)) scale(0) rotate(360deg);
    opacity: 0;
  }
}

@keyframes pop {
  0% {
    transform: scale(0.95);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes rainbow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes bounce-gentle {
  0%, 100% {
    transform: translateY(-5%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #4f46e5, #9333ea);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #4338ca, #7e22ce);
}

@keyframes particle-fade {
  0% { 
    transform: scale(1) translateY(0); 
    opacity: 1; 
  }
  100% { 
    transform: scale(0) translateY(-100px); 
    opacity: 0; 
  }
}

@keyframes disappear {
  0% { 
    transform: scale(1) rotate(0deg); 
    opacity: 1;
  }
  100% { 
    transform: scale(0) rotate(360deg); 
    opacity: 0;
  }
}

.animate-disappear {
  animation: disappear 0.5s ease-out forwards;
  position: relative;
  z-index: 1;
}

.grid-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.grid-item {
  transition: transform 0.3s ease-out;
}

@keyframes confetti-fall {
  0% {
    transform: translateY(-10vh) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

@keyframes star-shoot {
  0% {
    transform: translate(0, 0) scale(0);
    opacity: 1;
  }
  50% {
    opacity: 1;
    transform: translate(var(--tx), var(--ty)) scale(2);
  }
  100% {
    transform: translate(var(--tx), var(--ty)) scale(0);
    opacity: 0;
  }
}

@keyframes level-up-appear {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }
  20% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }
  40% {
    transform: translate(-50%, -50%) scale(1);
  }
  80% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0;
  }
}

@keyframes badge-pop {
  0% {
    transform: scale(0) rotate(-15deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.2) rotate(5deg);
  }
  75% {
    transform: scale(0.9) rotate(-2deg);
  }
  100% {
    transform: scale(1) rotate(0);
    opacity: 1;
  }
}
